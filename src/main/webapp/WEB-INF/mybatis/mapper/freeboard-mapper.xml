<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="freeboard">

	<insert id="insertOne" parameterType="freeboard">
		<selectKey order="BEFORE" resultType="int" keyProperty="no">
			SELECT EMP_SEQ.NEXTVAL FROM DUAL
		</selectKey>
		INSERT INTO FREEBOARD	(NO,WRITER,CATEGORY,TITLE,CONTENT,WRITEDATE,FB_KEY)
		VALUES (#{no},#{writer},#{category},#{title},#{content},SYSDATE, 'f-'||#{no} )
	</insert>

	<select id="selectAll" resultType="freeboard">
		SELECT * FROM FREEBOARD ORDER BY NO DESC
	</select>
	
	<select id="selectOne" resultType="freeboard" parameterType="int">
		SELECT * FROM FREEBOARD WHERE NO = #{no}
	</select>
	
	<!-- 게시판 조회수 증가-->
	<update id="boardHit" parameterType="int">
		UPDATE FREEBOARD SET HIT = HIT+1 WHERE NO = #{NO}
	</update>
	<delete id="deleteWt">
		DELECT FREEBOARD WHERE
	</delete>
	
	<!-- 총 게시글 갯수 출력 -->
	<select id="countBoard" resultType="int">
		SELECT * FROM FREEBOARD
	</select>
	
	<!-- 페이징 처리 후 게시글 조회 -->
	<select id="selectBoard" resultType="freeboard">
		SELECT * FROM(
		SELECT ROWNUM RN,A.*
		FROM(SELECT * FROM FREEBOARD ORDER BY NO DESC)A
		)
		WHERE RN BETEEN #{start} AND #{end}
	</select>
</mapper>